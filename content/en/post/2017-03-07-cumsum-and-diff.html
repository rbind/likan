---
title: 'cumsum(x) and diff(x)'
date: '2017-03-07'
author: "Likan Zhan"
tags: ["stat", "r"]
---



<p>Addapted from RHertelâ€™ <a href="http://stackoverflow.com/questions/32009610/cumsum-the-opposite-of-diff-in-r">Stackoverflow</a> post.</p>
<p><code>diff(x)</code> returns a vector of length <code>(length(x)-1)</code> which contains the difference between one element and the next in a vector x.</p>
<p><code>cumsum(x)</code> returns a vector of length equal to the length of x containing the sum of the elements in x</p>
<pre class="r"><code>x &lt;- c(1:10)
diff(x)
cumsum(x)</code></pre>
<pre><code>## [1] 1 1 1 1 1 1 1 1 1
##  [1]  1  3  6 10 15 21 28 36 45 55</code></pre>
<p>The combination of <code>cumsum</code> and <code>diff</code> leads to different results, depending on the order in which the functions are executed:</p>
<pre class="r"><code>cumsum(diff(x))
diff(cumsum(x))</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7 8 9
## [1]  2  3  4  5  6  7  8  9 10</code></pre>
